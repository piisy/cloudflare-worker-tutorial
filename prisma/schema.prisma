// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
  output          = "./client"
}

generator zod {
  output                           = "./zod"
  provider                         = "zod-prisma-types"
  useMultipleFiles                 = true //
  writeBarrelFiles                 = true // 是否生成barrel文件(index.ts)用于导出所有类型
  createInputTypes                 = false //
  createModelTypes                 = true //
  addInputTypeValidation           = false //
  addIncludeType                   = false //
  addSelectType                    = false //
  validateWhereUniqueInput         = true //
  createOptionalDefaultValuesTypes = true //
  createRelationValuesTypes        = false //
  createPartialTypes               = true //
  useDefaultValidators             = false //
  coerceDate                       = true //
  writeNullishInModelTypes         = true //
  prismaClientPath                 = "#/prisma/client"
}

// This `datasource` file isn't used but Prisma ORM still requires the `datasource` definition.
// Your SQLite database file will be managed by D1:
// - A local version will exist in `.wrangler`.
// - The remote version is managed by Cloudflare in the Cloud.
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  nickname  String?
  avatar    String?
  discordId String?  @unique
  githubId  String?  @unique
  googleId  String?  @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}
